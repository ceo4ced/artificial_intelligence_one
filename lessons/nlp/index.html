<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Natural Language Processing - Interactive Lesson</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 0; }
.nav-header { background: #2d3748; padding: 15px 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.3); display: flex; justify-content: space-between; align-items: center; }
.nav-header a { color: #90cdf4; text-decoration: none; font-weight: 600; font-size: 1.1em; }
.nav-title { color: #fff; font-size: 1.2em; font-weight: 700; }
.container { max-width: 1400px; margin: 20px auto; background: #fff; border-radius: 15px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
h1 { text-align: center; color: #2d3748; font-size: 2.5em; margin-bottom: 20px; }
.intro { background: #e3f2fd; padding: 20px; border-radius: 10px; margin-bottom: 30px; line-height: 1.6; }
.intro h2 { color: #1976d2; margin-bottom: 10px; }
.main-content { display: grid; grid-template-columns: 350px 1fr; gap: 30px; }
.sidebar { background: #f8f9fa; padding: 20px; border-radius: 10px; height: fit-content; }
button { width: 100%; padding: 12px; margin: 5px 0; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
.btn-primary { background: #4CAF50; color: #fff; }
.btn-secondary { background: #2196F3; color: #fff; }
.input-area { margin: 15px 0; }
.input-area textarea { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; resize: vertical; font-family: inherit; }
.visualization { background: #fafafa; border: 2px solid #ddd; border-radius: 10px; padding: 20px; min-height: 400px; }
.tokens { display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0; }
.token { background: #667eea; color: #fff; padding: 8px 15px; border-radius: 20px; font-size: 0.9em; display: inline-block; }
.sentiment-meter { height: 40px; background: linear-gradient(to right, #f44336 0%, #ffeb3b 50%, #4caf50 100%); border-radius: 20px; position: relative; margin: 20px 0; }
.sentiment-indicator { position: absolute; width: 20px; height: 50px; background: #2d3748; border-radius: 10px; top: -5px; transition: left 0.5s; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }
.sentiment-label { text-align: center; font-weight: 600; margin-top: 10px; font-size: 1.2em; }
.word-importance { margin: 20px 0; }
.word-span { padding: 3px 6px; margin: 2px; border-radius: 4px; display: inline-block; cursor: pointer; }
.explanation { background: #fff9c4; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #fbc02d; }
.explanation h4 { color: #f57c00; margin-bottom: 8px; }
.stats { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 15px; border-radius: 10px; margin-top: 15px; }
.stat-row { display: flex; justify-content: space-between; margin: 8px 0; }
.key-concepts { background: #e8f5e9; padding: 15px; border-radius: 8px; margin: 15px 0; }
.key-concepts ul { margin-left: 20px; line-height: 1.8; font-size: 0.9em; }
.example-buttons { display: grid; grid-template-columns: 1fr; gap: 8px; margin: 15px 0; }
.example-btn { background: #fff; border: 2px solid #667eea; color: #667eea; padding: 10px; border-radius: 8px; cursor: pointer; font-size: 0.9em; text-align: left; transition: all 0.2s; }
.example-btn:hover { background: #667eea; color: #fff; }
canvas { border: 2px solid #ddd; border-radius: 8px; margin: 20px auto; display: block; background: #fafafa; }
</style>
</head>
<body>
<nav class="nav-header">
    <div class="nav-title">üí¨ Natural Language Processing</div>
    <a href="../../index.html">‚Üê Back to Home</a>
</nav>
<div class="container">
    <h1>üí¨ Natural Language Processing - Interactive Lesson</h1>

    <div class="intro">
        <h2>What is Natural Language Processing (NLP)?</h2>
        <p>
            NLP is the branch of AI that helps computers <strong>understand, interpret, and generate human language</strong>.
            It powers chatbots, translation apps, voice assistants (Siri, Alexa), sentiment analysis, autocomplete,
            and much more. NLP bridges the gap between human communication and computer understanding, turning
            unstructured text into structured data that machines can process.
        </p>
    </div>

    <div class="main-content">
        <div class="sidebar">
            <h3>Try It Out!</h3>

            <div class="input-area">
                <label style="font-weight: 600; margin-bottom: 5px; display: block;">Enter Text:</label>
                <textarea id="textInput" rows="4" placeholder="Type a sentence to analyze...">This movie was absolutely amazing! I loved every minute of it.</textarea>
            </div>

            <button class="btn-primary" onclick="analyzeText()">Analyze Text</button>
            <button class="btn-secondary" onclick="showTokens()">Show Tokens</button>

            <div class="example-buttons">
                <button class="example-btn" onclick="loadExample(0)">üòä Positive: "Best day ever!"</button>
                <button class="example-btn" onclick="loadExample(1)">üòû Negative: "Terrible service, very disappointed."</button>
                <button class="example-btn" onclick="loadExample(2)">üòê Neutral: "The package arrived on Tuesday."</button>
                <button class="example-btn" onclick="loadExample(3)">ü§î Mixed: "Good food but slow service."</button>
            </div>

            <div class="stats">
                <div class="stat-row"><span>Words:</span><span id="wordCount">0</span></div>
                <div class="stat-row"><span>Tokens:</span><span id="tokenCount">0</span></div>
                <div class="stat-row"><span>Sentiment:</span><span id="sentimentScore">Neutral</span></div>
                <div class="stat-row"><span>Confidence:</span><span id="confidence">0%</span></div>
            </div>

            <div class="key-concepts">
                <h4>NLP Tasks:</h4>
                <ul>
                    <li><strong>Tokenization:</strong> Split text into words</li>
                    <li><strong>Sentiment Analysis:</strong> Detect emotion</li>
                    <li><strong>Named Entity Recognition:</strong> Find names, places</li>
                    <li><strong>Translation:</strong> Convert languages</li>
                    <li><strong>Text Generation:</strong> Create new text</li>
                </ul>
            </div>

            <div class="explanation">
                <h4>How NLP Works:</h4>
                <p style="font-size: 0.9em; line-height: 1.6;">
                    1. <strong>Tokenize:</strong> Break into words<br>
                    2. <strong>Vectorize:</strong> Convert to numbers<br>
                    3. <strong>Process:</strong> Feed through model<br>
                    4. <strong>Output:</strong> Classification/generation
                </p>
            </div>
        </div>

        <div>
            <div class="visualization">
                <h3 style="margin-bottom: 15px;">Sentiment Analysis</h3>

                <div class="sentiment-meter" id="sentimentMeter">
                    <div class="sentiment-indicator" id="sentimentIndicator"></div>
                </div>
                <div class="sentiment-label" id="sentimentLabel">Neutral</div>

                <div style="display: flex; justify-content: space-between; font-size: 0.9em; color: #666; margin-top: -5px;">
                    <span>Negative</span>
                    <span>Neutral</span>
                    <span>Positive</span>
                </div>

                <h4 style="margin-top: 30px; margin-bottom: 10px;">Word Importance:</h4>
                <div class="word-importance" id="wordImportance">
                    <p style="color: #999;">Analyze text to see which words contribute most to the sentiment...</p>
                </div>

                <h4 style="margin-top: 30px; margin-bottom: 10px;">Tokens:</h4>
                <div class="tokens" id="tokensDisplay">
                    <p style="color: #999;">Click "Show Tokens" to see tokenization...</p>
                </div>
            </div>

            <canvas id="embeddingCanvas" width="900" height="300"></canvas>
            <p style="text-align: center; color: #666; font-size: 0.9em; margin-top: -10px;">
                Word Embedding Space (t-SNE visualization) - Similar words cluster together
            </p>

            <div class="explanation" style="margin-top: 20px;">
                <h4>Understanding the Components:</h4>
                <ol style="margin-left: 20px; line-height: 1.8;">
                    <li><strong>Tokenization:</strong> Breaking "Hello world!" into ["Hello", "world", "!"]</li>
                    <li><strong>Word Embeddings:</strong> Each word becomes a vector (e.g., "king" = [0.2, 0.5, -0.1, ...])</li>
                    <li><strong>Sentiment Analysis:</strong> Classify text as positive, negative, or neutral</li>
                    <li><strong>Word Importance:</strong> Which words most influence the sentiment (highlighted intensity)</li>
                    <li><strong>Context Matters:</strong> "not good" is negative, even though "good" is positive!</li>
                </ol>
            </div>

            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px;">
                <div style="background: #e3f2fd; padding: 15px; border-radius: 8px;">
                    <strong>ü§ñ Chatbots</strong>
                    <p style="margin-top: 8px; font-size: 0.9em;">Customer service, virtual assistants</p>
                </div>
                <div style="background: #f3e5f5; padding: 15px; border-radius: 8px;">
                    <strong>üåç Translation</strong>
                    <p style="margin-top: 8px; font-size: 0.9em;">Google Translate, DeepL</p>
                </div>
                <div style="background: #e8f5e9; padding: 15px; border-radius: 8px;">
                    <strong>üìä Sentiment Analysis</strong>
                    <p style="margin-top: 8px; font-size: 0.9em;">Social media monitoring, reviews</p>
                </div>
            </div>

            <div style="background: #fff3e0; padding: 20px; border-radius: 10px; margin-top: 20px; border-left: 4px solid #ff9800;">
                <h4 style="color: #e65100; margin-bottom: 10px;">‚ö° Fun Fact: Word Analogies</h4>
                <p style="line-height: 1.6;">
                    Word embeddings capture semantic relationships! The famous example: <strong>king - man + woman ‚âà queen</strong>.
                    This works because word vectors encode meaning in their direction and magnitude. Words used in similar
                    contexts end up close together in vector space. Modern models like GPT and BERT use these embeddings
                    to understand and generate human-like text!
                </p>
            </div>
        </div>
    </div>
</div>

<script>
const canvas = document.getElementById('embeddingCanvas');
const ctx = canvas.getContext('2d');

const examples = [
    "This is the best day ever! I'm so happy and excited!",
    "Terrible service, very disappointed and frustrated with this experience.",
    "The package arrived on Tuesday at 3 PM.",
    "Good food but the service was quite slow and disappointing."
];

const positiveWords = ['amazing', 'great', 'excellent', 'fantastic', 'love', 'best', 'wonderful', 'happy', 'excited', 'good', 'awesome'];
const negativeWords = ['terrible', 'awful', 'bad', 'hate', 'worst', 'horrible', 'disappointed', 'sad', 'angry', 'slow', 'poor'];

// Simulated word embeddings for visualization
const wordEmbeddings = {
    'happy': {x: 650, y: 80, similar: true},
    'joy': {x: 680, y: 100, similar: true},
    'excited': {x: 620, y: 70, similar: true},
    'sad': {x: 150, y: 90, similar: false},
    'angry': {x: 120, y: 110, similar: false},
    'disappointed': {x: 180, y: 85, similar: false},
    'good': {x: 550, y: 150, similar: true},
    'great': {x: 580, y: 140, similar: true},
    'bad': {x: 250, y: 160, similar: false},
    'terrible': {x: 220, y: 170, similar: false},
    'neutral': {x: 450, y: 150, similar: null},
    'okay': {x: 480, y: 160, similar: null},
    'fine': {x: 420, y: 140, similar: null}
};

function loadExample(index) {
    document.getElementById('textInput').value = examples[index];
    analyzeText();
}

function analyzeText() {
    const text = document.getElementById('textInput').value.trim();
    if (!text) return;

    const words = text.toLowerCase().match(/\b\w+\b/g) || [];
    const wordCount = words.length;

    // Simple sentiment calculation
    let sentiment = 0;
    const importantWords = [];

    words.forEach(word => {
        if (positiveWords.includes(word)) {
            sentiment += 1;
            importantWords.push({word, score: 1});
        } else if (negativeWords.includes(word)) {
            sentiment -= 1;
            importantWords.push({word, score: -1});
        }
    });

    // Normalize sentiment to -1 to 1 range
    const normalizedSentiment = Math.max(-1, Math.min(1, sentiment / Math.max(1, wordCount / 3)));

    // Update sentiment meter
    const indicator = document.getElementById('sentimentIndicator');
    const percentage = ((normalizedSentiment + 1) / 2) * 100;
    indicator.style.left = `calc(${percentage}% - 10px)`;

    // Update label
    let sentimentText = 'Neutral';
    let confidence = Math.abs(normalizedSentiment) * 100;

    if (normalizedSentiment > 0.3) sentimentText = 'Positive';
    else if (normalizedSentiment < -0.3) sentimentText = 'Negative';

    document.getElementById('sentimentLabel').textContent = sentimentText;
    document.getElementById('sentimentScore').textContent = sentimentText;
    document.getElementById('confidence').textContent = confidence.toFixed(0) + '%';
    document.getElementById('wordCount').textContent = wordCount;
    document.getElementById('tokenCount').textContent = words.length;

    // Show word importance
    displayWordImportance(text, importantWords);

    // Show tokens
    showTokens();

    // Draw embeddings
    drawEmbeddings();
}

function displayWordImportance(text, importantWords) {
    const words = text.match(/\S+/g) || [];
    const container = document.getElementById('wordImportance');

    let html = '';
    words.forEach(word => {
        const cleanWord = word.toLowerCase().replace(/[^a-z]/g, '');
        const important = importantWords.find(w => w.word === cleanWord);

        if (important) {
            const intensity = Math.abs(important.score) * 255;
            const bgColor = important.score > 0 ?
                `rgba(76, 175, 80, ${0.3 + Math.abs(important.score) * 0.5})` :
                `rgba(244, 67, 54, ${0.3 + Math.abs(important.score) * 0.5})`;

            html += `<span class="word-span" style="background: ${bgColor}; font-weight: 600;">${word}</span> `;
        } else {
            html += `<span class="word-span" style="background: #f0f0f0;">${word}</span> `;
        }
    });

    container.innerHTML = html;
}

function showTokens() {
    const text = document.getElementById('textInput').value.trim();
    if (!text) return;

    const tokens = text.match(/\S+/g) || [];
    const container = document.getElementById('tokensDisplay');

    let html = '';
    tokens.forEach(token => {
        html += `<div class="token">${token}</div>`;
    });

    container.innerHTML = html;
}

function drawEmbeddings() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw axes
    ctx.strokeStyle = '#ddd';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(50, canvas.height - 50);
    ctx.lineTo(canvas.width - 50, canvas.height - 50);
    ctx.moveTo(50, 50);
    ctx.lineTo(50, canvas.height - 50);
    ctx.stroke();

    ctx.fillStyle = '#666';
    ctx.font = '12px Arial';
    ctx.textAlign = 'center';
    ctx.fillText('Dimension 1 (Semantic Meaning)', canvas.width / 2, canvas.height - 20);

    ctx.save();
    ctx.translate(20, canvas.height / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('Dimension 2 (Context)', 0, 0);
    ctx.restore();

    // Draw word embeddings
    Object.entries(wordEmbeddings).forEach(([word, pos]) => {
        let color = '#999';
        if (pos.similar === true) color = '#4CAF50';
        if (pos.similar === false) color = '#F44336';

        ctx.fillStyle = color;
        ctx.globalAlpha = 0.7;
        ctx.beginPath();
        ctx.arc(pos.x, pos.y, 6, 0, Math.PI * 2);
        ctx.fill();

        ctx.globalAlpha = 1;
        ctx.fillStyle = '#333';
        ctx.font = '11px Arial';
        ctx.textAlign = 'center';
        ctx.fillText(word, pos.x, pos.y - 10);
    });

    // Draw legend
    ctx.fillStyle = '#4CAF50';
    ctx.beginPath();
    ctx.arc(750, 250, 6, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#333';
    ctx.font = '11px Arial';
    ctx.textAlign = 'left';
    ctx.fillText('Positive words', 760, 253);

    ctx.fillStyle = '#F44336';
    ctx.beginPath();
    ctx.arc(750, 270, 6, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillText('Negative words', 760, 273);
}

// Initialize
loadExample(0);
drawEmbeddings();
</script>
</body>
</html>
