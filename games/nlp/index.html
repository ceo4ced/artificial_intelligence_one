<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sentiment Detective - NLP Game</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 0; }
.nav-header { background: #2d3748; padding: 15px 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.3); display: flex; justify-content: space-between; align-items: center; }
.nav-header a { color: #90cdf4; text-decoration: none; font-weight: 600; font-size: 1.1em; }
.nav-title { color: #fff; font-size: 1.2em; font-weight: 700; }
.container { max-width: 1200px; margin: 20px auto; background: #fff; border-radius: 15px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
h1 { text-align: center; color: #2d3748; font-size: 2.5em; margin-bottom: 10px; }
.subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 1.1em; }
.game-modes { display: flex; gap: 20px; justify-content: center; margin-bottom: 30px; }
.mode-btn { padding: 15px 30px; border: 3px solid #667eea; background: #fff; color: #667eea; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 1.1em; transition: all 0.3s; }
.mode-btn.active { background: #667eea; color: #fff; }
.mode-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(102,126,234,0.3); }
.review-card { background: #f8f9fa; padding: 30px; border-radius: 15px; margin: 20px 0; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.review-text { font-size: 1.5em; line-height: 1.6; color: #2d3748; margin-bottom: 30px; max-width: 800px; }
.sentiment-buttons { display: flex; gap: 20px; justify-content: center; }
.sentiment-btn { padding: 15px 40px; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 1.2em; transition: all 0.2s; }
.sentiment-btn:hover { transform: scale(1.05); }
.btn-positive { background: #4CAF50; color: #fff; }
.btn-negative { background: #F44336; color: #fff; }
.btn-neutral { background: #FF9800; color: #fff; }
.stats-panel { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin: 30px 0; }
.stat-box { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 20px; border-radius: 10px; text-align: center; }
.stat-value { font-size: 2.5em; font-weight: bold; margin-bottom: 5px; }
.stat-label { font-size: 0.9em; opacity: 0.9; }
.word-cloud { background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; min-height: 150px; display: flex; flex-wrap: wrap; gap: 10px; align-items: center; justify-content: center; }
.word { padding: 8px 15px; border-radius: 20px; font-weight: 600; display: inline-block; transition: all 0.2s; cursor: default; }
.word:hover { transform: scale(1.1); }
.feedback-overlay { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); background: rgba(0,0,0,0.9); color: #fff; padding: 40px 60px; border-radius: 20px; font-size: 2em; font-weight: bold; z-index: 1000; transition: all 0.3s; }
.feedback-overlay.show { transform: translate(-50%, -50%) scale(1); }
.feedback-overlay.correct { background: rgba(76, 175, 80, 0.95); }
.feedback-overlay.incorrect { background: rgba(244, 67, 54, 0.95); }
.progress-bar { height: 30px; background: #e0e0e0; border-radius: 15px; overflow: hidden; margin: 20px 0; }
.progress-fill { height: 100%; background: linear-gradient(90deg, #4CAF50, #8BC34A); transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 600; }
.challenge-mode { background: #fff3e0; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #ff9800; }
.ai-prediction { background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center; }
.leaderboard { background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; }
.leaderboard-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd; }
button.primary { background: #4CAF50; color: #fff; padding: 12px 30px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 1em; margin: 10px 5px; }
button.secondary { background: #2196F3; color: #fff; padding: 12px 30px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 1em; margin: 10px 5px; }
</style>
</head>
<body>
<nav class="nav-header">
    <div class="nav-title">üïµÔ∏è Sentiment Detective</div>
    <a href="../../index.html">‚Üê Back to Home</a>
</nav>
<div class="container">
    <h1>üïµÔ∏è Sentiment Detective</h1>
    <p class="subtitle">Train your sentiment analysis skills and compete against the AI!</p>

    <div class="game-modes">
        <button class="mode-btn active" onclick="setMode('training')">üë®‚Äçüè´ Training Mode</button>
        <button class="mode-btn" onclick="setMode('challenge')">‚öîÔ∏è Challenge AI</button>
    </div>

    <div class="stats-panel">
        <div class="stat-box">
            <div class="stat-value" id="totalReviews">0</div>
            <div class="stat-label">Reviews Classified</div>
        </div>
        <div class="stat-box">
            <div class="stat-value" id="accuracy">0%</div>
            <div class="stat-label">Accuracy</div>
        </div>
        <div class="stat-box">
            <div class="stat-value" id="streak">0</div>
            <div class="stat-label">Current Streak üî•</div>
        </div>
        <div class="stat-box">
            <div class="stat-value" id="score">0</div>
            <div class="stat-label">Score</div>
        </div>
    </div>

    <div id="trainingMode">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%;">0 / 10</div>
        </div>

        <div class="review-card">
            <div class="review-text" id="reviewText">Click Start to begin!</div>
            <div class="sentiment-buttons" id="sentimentButtons" style="display: none;">
                <button class="sentiment-btn btn-negative" onclick="classify('negative')">üòû Negative</button>
                <button class="sentiment-btn btn-neutral" onclick="classify('neutral')">üòê Neutral</button>
                <button class="sentiment-btn btn-positive" onclick="classify('positive')">üòä Positive</button>
            </div>
        </div>

        <div style="text-align: center;">
            <button class="primary" onclick="startTraining()">üöÄ Start Training</button>
            <button class="secondary" onclick="showWordCloud()">‚òÅÔ∏è Word Cloud</button>
        </div>

        <div class="word-cloud" id="wordCloud" style="display: none;">
            <h3 style="width: 100%; text-align: center; margin-bottom: 15px;">Word Importance Cloud</h3>
        </div>
    </div>

    <div id="challengeMode" style="display: none;">
        <div class="challenge-mode">
            <h3 style="margin-bottom: 10px;">‚öîÔ∏è Challenge Mode</h3>
            <p>You and the AI will both classify reviews. See who's more accurate!</p>
        </div>

        <div class="review-card">
            <div class="review-text" id="challengeReviewText">Start the challenge!</div>
            <div class="sentiment-buttons" id="challengeButtons" style="display: none;">
                <button class="sentiment-btn btn-negative" onclick="challengeClassify('negative')">üòû Negative</button>
                <button class="sentiment-btn btn-neutral" onclick="challengeClassify('neutral')">üòê Neutral</button>
                <button class="sentiment-btn btn-positive" onclick="challengeClassify('positive')">üòä Positive</button>
            </div>
        </div>

        <div class="ai-prediction" id="aiPrediction" style="display: none;">
            <strong>ü§ñ AI's Prediction:</strong> <span id="aiGuess">-</span>
        </div>

        <div style="text-align: center;">
            <button class="primary" onclick="startChallenge()">üéÆ Start Challenge</button>
        </div>

        <div class="leaderboard">
            <h3 style="margin-bottom: 15px;">üèÜ Leaderboard</h3>
            <div class="leaderboard-item">
                <span><strong>You:</strong></span>
                <span id="yourWins">0 wins</span>
            </div>
            <div class="leaderboard-item">
                <span><strong>AI:</strong></span>
                <span id="aiWins">0 wins</span>
            </div>
        </div>
    </div>
</div>

<div class="feedback-overlay" id="feedback"></div>

<script>
const reviews = {
    positive: [
        "This movie was absolutely amazing! Best film I've seen all year!",
        "Excellent service, highly recommend! Will definitely come back.",
        "Love this product! It exceeded all my expectations!",
        "Fantastic experience from start to finish. Couldn't be happier!",
        "Outstanding quality and great value. Five stars!",
        "This is hands down the best purchase I've ever made!",
        "Incredible! Way better than I expected.",
        "Wonderful service, friendly staff, and great atmosphere!",
        "I'm blown away by how good this is!",
        "Perfect! Exactly what I was looking for."
    ],
    negative: [
        "Terrible experience. Would not recommend to anyone.",
        "Awful quality, complete waste of money. Very disappointed.",
        "Worst service ever! Never coming back here again.",
        "Horrible! This is completely unacceptable.",
        "Very poor quality. Broke after one use.",
        "Disappointed and frustrated. Expected much better.",
        "Do not buy this! Total ripoff and terrible product.",
        "Extremely bad experience. Save your money.",
        "Absolutely terrible. Regret this purchase completely.",
        "Horrible customer service and poor quality product."
    ],
    neutral: [
        "The package arrived on Tuesday afternoon.",
        "It's okay. Nothing special but does the job.",
        "Average quality for the price. Not bad, not great.",
        "Received the order as described. Standard shipping.",
        "It works as intended. No complaints, no praise.",
        "Decent product. Met my basic expectations.",
        "The food was alright. Service was standard.",
        "Product arrived in good condition. As advertised.",
        "It's fine. Does what it says on the box.",
        "Acceptable quality. Would consider other options next time."
    ]
};

const positiveWords = ['amazing', 'excellent', 'love', 'fantastic', 'outstanding', 'best', 'incredible', 'wonderful', 'perfect', 'great', 'highly'];
const negativeWords = ['terrible', 'awful', 'worst', 'horrible', 'poor', 'disappointed', 'bad', 'waste', 'unacceptable', 'regret'];

let currentMode = 'training';
let currentReview = null;
let currentSentiment = null;
let totalReviews = 0;
let correctAnswers = 0;
let streak = 0;
let score = 0;
let trainingProgress = 0;
let yourWins = 0;
let aiWins = 0;
let learnedWords = {positive: [], negative: []};

function setMode(mode) {
    currentMode = mode;
    document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');

    if (mode === 'training') {
        document.getElementById('trainingMode').style.display = 'block';
        document.getElementById('challengeMode').style.display = 'none';
    } else {
        document.getElementById('trainingMode').style.display = 'none';
        document.getElementById('challengeMode').style.display = 'block';
    }
}

function startTraining() {
    trainingProgress = 0;
    updateProgress();
    nextReview();
    document.getElementById('sentimentButtons').style.display = 'flex';
}

function nextReview() {
    if (trainingProgress >= 10) {
        showFeedback('Training Complete! üéâ', true);
        document.getElementById('sentimentButtons').style.display = 'none';
        return;
    }

    const sentiments = ['positive', 'negative', 'neutral'];
    currentSentiment = sentiments[Math.floor(Math.random() * sentiments.length)];
    const reviewList = reviews[currentSentiment];
    currentReview = reviewList[Math.floor(Math.random() * reviewList.length)];

    document.getElementById('reviewText').textContent = currentReview;
}

function classify(userChoice) {
    const correct = userChoice === currentSentiment;

    totalReviews++;
    trainingProgress++;

    if (correct) {
        correctAnswers++;
        streak++;
        score += 10 + streak * 2;
        showFeedback('‚úì Correct!', true);

        // Learn words
        const words = currentReview.toLowerCase().match(/\b\w+\b/g) || [];
        words.forEach(word => {
            if (positiveWords.includes(word) && !learnedWords.positive.includes(word)) {
                learnedWords.positive.push(word);
            }
            if (negativeWords.includes(word) && !learnedWords.negative.includes(word)) {
                learnedWords.negative.push(word);
            }
        });
    } else {
        streak = 0;
        showFeedback('‚úó Wrong! It was ' + currentSentiment, false);
    }

    updateStats();
    updateProgress();

    setTimeout(() => {
        nextReview();
    }, 1500);
}

function startChallenge() {
    const sentiments = ['positive', 'negative', 'neutral'];
    currentSentiment = sentiments[Math.floor(Math.random() * sentiments.length)];
    const reviewList = reviews[currentSentiment];
    currentReview = reviewList[Math.floor(Math.random() * reviewList.length)];

    document.getElementById('challengeReviewText').textContent = currentReview;
    document.getElementById('challengeButtons').style.display = 'flex';
    document.getElementById('aiPrediction').style.display = 'none';
}

function challengeClassify(userChoice) {
    // AI makes prediction (85% accurate)
    const aiCorrect = Math.random() < 0.85;
    let aiChoice;

    if (aiCorrect) {
        aiChoice = currentSentiment;
    } else {
        const sentiments = ['positive', 'negative', 'neutral'];
        const wrongChoices = sentiments.filter(s => s !== currentSentiment);
        aiChoice = wrongChoices[Math.floor(Math.random() * wrongChoices.length)];
    }

    const userCorrect = userChoice === currentSentiment;

    document.getElementById('aiPrediction').style.display = 'block';
    document.getElementById('aiGuess').textContent = aiChoice + (aiCorrect ? ' ‚úì' : ' ‚úó');

    totalReviews++;

    if (userCorrect && !aiCorrect) {
        yourWins++;
        score += 20;
        showFeedback('You Win! üèÜ', true);
    } else if (!userCorrect && aiCorrect) {
        aiWins++;
        showFeedback('AI Wins! ü§ñ', false);
    } else if (userCorrect && aiCorrect) {
        score += 10;
        showFeedback('Tie! Both Correct ‚öñÔ∏è', true);
    } else {
        showFeedback('Both Wrong! Correct: ' + currentSentiment, false);
    }

    if (userCorrect) {
        correctAnswers++;
        streak++;
    } else {
        streak = 0;
    }

    updateStats();
    document.getElementById('yourWins').textContent = yourWins + ' wins';
    document.getElementById('aiWins').textContent = aiWins + ' wins';

    document.getElementById('challengeButtons').style.display = 'none';

    setTimeout(() => {
        startChallenge();
    }, 2500);
}

function showFeedback(message, correct) {
    const feedback = document.getElementById('feedback');
    feedback.textContent = message;
    feedback.className = 'feedback-overlay show ' + (correct ? 'correct' : 'incorrect');

    setTimeout(() => {
        feedback.classList.remove('show');
    }, 1200);
}

function updateStats() {
    document.getElementById('totalReviews').textContent = totalReviews;
    document.getElementById('accuracy').textContent = totalReviews > 0 ?
        Math.round((correctAnswers / totalReviews) * 100) + '%' : '0%';
    document.getElementById('streak').textContent = streak;
    document.getElementById('score').textContent = score;
}

function updateProgress() {
    const percentage = (trainingProgress / 10) * 100;
    document.getElementById('progressFill').style.width = percentage + '%';
    document.getElementById('progressFill').textContent = trainingProgress + ' / 10';
}

function showWordCloud() {
    const cloud = document.getElementById('wordCloud');

    if (cloud.style.display === 'none') {
        cloud.style.display = 'flex';

        let html = '<h3 style="width: 100%; text-align: center; margin-bottom: 15px;">Word Importance Cloud</h3>';

        learnedWords.positive.forEach(word => {
            const size = 12 + Math.random() * 20;
            html += `<div class="word" style="background: rgba(76, 175, 80, 0.3); font-size: ${size}px;">${word}</div>`;
        });

        learnedWords.negative.forEach(word => {
            const size = 12 + Math.random() * 20;
            html += `<div class="word" style="background: rgba(244, 67, 54, 0.3); font-size: ${size}px;">${word}</div>`;
        });

        if (learnedWords.positive.length === 0 && learnedWords.negative.length === 0) {
            html += '<p style="color: #999;">Classify some reviews to see important words!</p>';
        }

        cloud.innerHTML = html;
    } else {
        cloud.style.display = 'none';
    }
}

// Initialize
updateStats();
</script>
</body>
</html>
